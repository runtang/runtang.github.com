
  
    <!DOCTYPE html>
<html>
	<head>
		<script src="http://g.tbcdn.cn/kissy/k/1.4.4/seed.js" data-config="{combine:true}"></script>		
	</head>
	<body>	
		<h3>Lazy load demo, config</h3>		
		<div id="floor1" class="floor">
			<img src="img/dot.gif" data-ks-lazyload="img/fj.png">
			<textarea class="cls-ks-lazyload">
				<div class="bg">
					content 1
				</div>
				<script>
					alert('load floor 1');
					//console.log('Load 1');
				</script>
			</textarea>
		</div>

		<div id="floor2" class="floor">
			<img src="img/dot.gif" data-ks-lazyload="img/fj.png">
			<textarea class="cls-ks-lazyload">
				<div class="bg">
					content 2
				</div>
				<script>
					alert('load floor 2');
					//console.log('Load 2');
				</script>
			</textarea>
		</div>		

		<div id="floor3" class="floor">
			<img src="img/dot.gif" data-ks-lazyload="img/fj.png">
			<textarea class="cls-ks-lazyload">
				<div class="bg">
					content 3
				</div>
				<script>
					alert('load floor 3');
					//console.log('Load 3');
				</script>
			</textarea>
		</div>				


		<style>
			.bg {
				background: #666;
			}

			.floor {
				height: 300px;
				margin: 10px;
			}
		</style>

		<script>
			KISSY.config({
				packages: {
					'my': {
						combine: false,
						debug: true,
						ignorePackageNameInUri:true,
						base: './../'
					}
				}
			});

			KISSY.use('my/lazyload', function(S, Lazyload) {
				var lazyLoad = new Lazyload(['#floor1', '#floor3'], {
					lazyAttr: 'data-ks-lazyload',
					lazyCls: 'cls-ks-lazyload',
					delay: 500,
					threshold: 10,
					scrollX: false,
					scrollY: true,
					callback: [
						{ele: '#floor1', fn: function(){ console.log('callback 1'); } },
						{ele: '#floor2', fn: function(){ console.log('callback 2'); } }
					]
				});
			});
		</script>
	</body>
</html>
  
